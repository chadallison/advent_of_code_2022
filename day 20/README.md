advent of code - day 20
================
chad allison \| 20 december 2022

### loading tidyverse

``` r
library(tidyverse)
```

### loading input data

``` r
input = readLines("input.txt")
input[1:100]
```

    ##   [1] "-7391" "-1968" "4501"  "-7936" "6372"  "8952"  "6961"  "8936"  "1723" 
    ##  [10] "9086"  "9299"  "-5889" "-7280" "430"   "-6743" "-9253" "9456"  "-3883"
    ##  [19] "6873"  "1563"  "5477"  "-7255" "-3078" "7517"  "5930"  "-8037" "7410" 
    ##  [28] "1937"  "898"   "-3330" "1452"  "7990"  "-5042" "4877"  "5930"  "8091" 
    ##  [37] "1566"  "966"   "6697"  "-9301" "2734"  "4722"  "-7846" "7149"  "-2558"
    ##  [46] "-1832" "9345"  "5345"  "-4302" "5061"  "-529"  "2525"  "-6044" "-8678"
    ##  [55] "9067"  "-987"  "5365"  "-257"  "-5104" "-5609" "-2472" "8465"  "4026" 
    ##  [64] "2855"  "6924"  "2119"  "-5319" "-2491" "1219"  "-1840" "-7149" "6847" 
    ##  [73] "-3092" "9418"  "-7740" "4263"  "427"   "1898"  "-5925" "-8270" "-4018"
    ##  [82] "-9448" "2063"  "7814"  "3408"  "-5770" "-5704" "-8162" "3625"  "-1575"
    ##  [91] "-1763" "-2958" "2454"  "-432"  "-5315" "-8204" "9643"  "9821"  "4350" 
    ## [100] "5069"

### formatting input data

``` r
input = as.numeric(input)
len = length(input)
names(input) = 1:len
input[1:100]
```

    ##     1     2     3     4     5     6     7     8     9    10    11    12    13 
    ## -7391 -1968  4501 -7936  6372  8952  6961  8936  1723  9086  9299 -5889 -7280 
    ##    14    15    16    17    18    19    20    21    22    23    24    25    26 
    ##   430 -6743 -9253  9456 -3883  6873  1563  5477 -7255 -3078  7517  5930 -8037 
    ##    27    28    29    30    31    32    33    34    35    36    37    38    39 
    ##  7410  1937   898 -3330  1452  7990 -5042  4877  5930  8091  1566   966  6697 
    ##    40    41    42    43    44    45    46    47    48    49    50    51    52 
    ## -9301  2734  4722 -7846  7149 -2558 -1832  9345  5345 -4302  5061  -529  2525 
    ##    53    54    55    56    57    58    59    60    61    62    63    64    65 
    ## -6044 -8678  9067  -987  5365  -257 -5104 -5609 -2472  8465  4026  2855  6924 
    ##    66    67    68    69    70    71    72    73    74    75    76    77    78 
    ##  2119 -5319 -2491  1219 -1840 -7149  6847 -3092  9418 -7740  4263   427  1898 
    ##    79    80    81    82    83    84    85    86    87    88    89    90    91 
    ## -5925 -8270 -4018 -9448  2063  7814  3408 -5770 -5704 -8162  3625 -1575 -1763 
    ##    92    93    94    95    96    97    98    99   100 
    ## -2958  2454  -432 -5315 -8204  9643  9821  4350  5069

### creating `mix_one` function

``` r
mix_one = function(vector, id) {
  
  where_currently = which(names(vector) == id)
  moving_how_much = vector[[where_currently]] %% (len - 1)
  
  if (where_currently > 1) {
    vector = c(vector[where_currently:len], vector[1:(where_currently - 1)])
  }
  
  if (moving_how_much > 0) {
    vector = c(vector[2:(moving_how_much + 1)], vector[1], vector[(moving_how_much + 2):len])
  }
  
  return(vector)
  
}
```

### decryption for part 1

``` r
p1 =  input

for (i in 1:len) {
  p1 = p1 |> mix_one(i)
}

where_0 = which(p1 == 0)
```

### part 1 solution

``` r
sum(p1[(where_0 + 1000 - 1) %% len + 1],
    p1[(where_0 + 2000 - 1) %% len + 1],
    p1[(where_0 + 3000 - 1) %% len + 1])
```

    ## [1] 7278

### decryption for part 2

``` r
decryption_key = 811589153
p2 = input * decryption_key

# this will take a minute or so to run
for (j in 1:10) {
  for (i in 1:len) {
    p2 = p2 |> mix_one(i)
  }
}

options(digits = 22)
where_0 = which(p2 == 0)
```

### part 2 solution

``` r
sum(p2[(where_0 + 1000 - 1) %% len + 1],
    p2[(where_0 + 2000 - 1) %% len + 1],
    p2[(where_0 + 3000 - 1) %% len + 1])
```

    ## [1] 14375678667089
